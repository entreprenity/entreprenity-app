<div>
	<div id="newsFeed">
		<div class="post-textarea">
			<textarea class="form-control" placeholder="What do you need right now? Start a conversation..." rows="3" ng-model="vm.currentPost.content"></textarea>
			<div class="button-container">
				<a class="btn btn-primary btn-sm btn-post" ng-click="vm.addPost(vm.currentPost.content)">Post</a>	
			</div>
		</div>
		<div class="clearfix"></div>
		<div>
			<ul class="media-list">
				<li class="media post" ng-repeat="post in vm.posts">
					<div class="post-main">
						<div class="media-body post-header">
							<a href="#" class="pull-left">
								<img ng-src="{{post.post_author.avatar}}" alt="" class="img-circle" width="50px">
							</a>
							<span class="text-muted pull-right">
								<small class="text-muted"><span am-time-ago="post.created_at"></span></small>
							</span>
							<a><strong class="text-success">{{post.post_author.firstName + ' ' + post.post_author.lastName}}</strong></a>
							<a><p><small class="text-muted">{{post.post_author.companyName}}</small></p></a>	
						</div>
						<div class="clearfix"></div>
						<div class="post-content">{{post.content}}</div>
						<hr>
						<div class="post-buttonGroup">
							<a ng-click="vm.likePost(post)" ng-hide="post.isLiked">Like</a>	
							<a ng-click="vm.unLikePost(post)" ng-show="post.isLiked">Liked</a>
							<a ng-click="vm.focusCommentBox()">Comment</a>
						</div>
						<div class="post-likers">
							<div ng-mouseover="showLikers = true" ng-mouseleave="showLikers = false">
								<div ng-show="post.likes_count !== 0">
									<small class="text-muted">
										{{post.likes_count}} people liked this
										<ul ng-show="showLikers">
											<li ng-repeat="liker in post.likers"><a>{{liker.firstName + ' ' + liker.lastName}}</a></li>
										</ul>
									</small>
								</div>
							</div>
						</div>	
					</div>

					<div class="comment">
						<ul class="media-list">
							<li class="media" ng-repeat="comment in post.comments">
								<a href="#" class="pull-left">
									<img ng-src="{{comment.comment_author.avatar}}" alt="" class="img-circle" width="40px">
								</a>
								<div class="media-body comment-header">
										<a><strong class="text-success">{{comment.comment_author.firstName + ' ' + comment.comment_author.lastName}}</strong></a>
										<a><p><small class="text-muted">{{comment.comment_author.companyName}}</small></p></a>
										<p><small class="text-muted" am-time-ago="comment.created_at"></small></p>
								</div>
								<div class="clearfix"></div>
								<div class="comment-content">{{comment.content}}</div>
							</li>
						</ul>

						<div class="media comment-textarea">
							<a href="#" class="pull-left">
								<img ng-src="{{vm.currentPost.post_author.avatar}}" alt="" class="img-circle" width="30px">
							</a>
							<div class="media-body">
								<textarea class="form-control" placeholder="Type comment here..." rows="1" ng-model="vm.currentComment.content"></textarea>
								<br>	
								<a class="btn btn-default pull-right" ng-click="vm.addComment(post,vm.currentComment.content)">Submit</a>	
							</div>
						</div>
					</div>

				</li>
			</ul>
		</div>

	</div>
</div>
